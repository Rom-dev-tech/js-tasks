{"version":3,"sources":["js/11-countdown-timer.js"],"names":["Refs","startBtn","document","getElementById","stopBtn","getDays","time","Math","floor","getHours","getMins","getSeconds","template","value","event","EVENT_DISC","newYearDate","Date","getTime","addZero","n","parseInt","Timer","selector","id","querySelector","insertAdjacentHTML","valueRef","start","setInterval","diff","now","days","hours","mins","seconds","textContent","updateValue","stop","clearTimeout","timer","addEventListener","classList","remove","add"],"mappings":";;;AAyFA,aAzFE,QAAA,wBASF,MAAMA,EAAO,CACXC,SAAUC,SAASC,eAAe,SAClCC,QAAQF,SAASC,eAAe,SAG5BE,EAAUC,GAAQC,KAAKC,MAAMF,EAAO,IAAO,GAAK,GAAK,IACrDG,EAAWH,GAAQC,KAAKC,MAAOF,EAAQ,MAAyB,MAChEI,EAAUJ,GAASC,KAAKC,MAAOF,EAAQ,KAAoB,KAC3DK,EAAaL,GAASC,KAAKC,MAAOF,EAAQ,IAAc,KAGxDM,EAAW,CAACC,EAAOC,2CACWA,iEACcD,aAI5CE,EAAa,WAGbC,EAAc,IAAIC,KAAK,cAAcC,UAG3C,SAASC,EAAQC,GACR,OAACC,SAASD,EAAG,IAAM,GAAK,IAAM,IAAMA,EAI7C,SAASE,GAAM,SAACC,IACRC,IAAAA,EAAK,EACTtB,SAASuB,cAAcF,GAClBG,mBAAmB,YAAad,EAAS,cAAeG,IAEvDY,MAAAA,EAAWzB,SAASuB,iBAAiBF,YAMtCK,KAAAA,MAAQ,MACNJ,IAGHA,EAAKK,YAAY,KACPC,MAAAA,EAAOd,EAAcC,KAAKc,MAC1BC,EAAO3B,EAAQyB,GACfG,EAAQxB,EAASqB,GACjBI,EAAOxB,EAAQoB,GACfK,EAAUxB,EAAWmB,GAbdjB,CAAAA,IACjBc,EAASS,YAAcvB,GAanBwB,IAAelB,EAAQa,WAAcb,EAAQc,YAAgBd,EAAQe,WAAcf,EAAQgB,eAC5F,QAGFG,KAAAA,KAAO,MACRC,aAAaf,GACbA,EAAK,IAQb,MAAMgB,EAAQ,IAAIlB,EAAM,CAACC,SAAU,WAGnCvB,EAAKC,SACFwC,iBAAiB,QAAS,KACzBD,EAAMZ,QACN5B,EAAKI,QAAQsC,UAAUC,OAAO,aAC9B3C,EAAKC,SAASyC,UAAUE,IAAI,eAEhC5C,EAAKI,QACFqC,iBAAiB,QAAS,KACzBD,EAAMF,OACNtC,EAAKC,SAASyC,UAAUC,OAAO,aAC/B3C,EAAKI,QAAQsC,UAAUE,IAAI","file":"11-countdown-timer.1690eb5f.js","sourceRoot":"../src","sourcesContent":["  import '../sass/modul11.scss';\n/**\n * You have current UTC. Write func for getting\n * 1. Days\n * 2. Hours\n * 3. Mins\n * 4. Seconds\n */\n// * Рефы\nconst Refs = {\n  startBtn: document.getElementById('start'),\n  stopBtn:document.getElementById('stop'),\n}\n// * Расчёт поиска (дни, часы, минуты, секунды)\nconst getDays = time => Math.floor(time / 1000 / 60 / 60 / 24);\nconst getHours = time => Math.floor((time % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60 ));\nconst getMins = time =>  Math.floor((time % (1000 * 60 * 60)) / (1000 * 60 ));\nconst getSeconds = time =>  Math.floor((time % (1000 * 60)) / 1000); \n\n//* Разметка ==============\nconst template = (value, event) => `\n<p class=\"clockface js-clockface\">${event} starts</p>\n<span class=\"clockface js-clockface\" id=\"value\">${value}</span>\n`;\n\n// * Событие которое настанет\nconst EVENT_DISC = 'New Year';\n\n// * Дата до которого времени считает таймер\nconst newYearDate = new Date('01/01/2022').getTime();\n\n//* Add Zeros\nfunction addZero(n) {\n  return (parseInt(n, 10) < 10 ? '0' : '') + n;\n}\n\n// * Конструктор\nfunction Timer({selector}) {\n    let id = 0;\n    document.querySelector(selector)\n        .insertAdjacentHTML('beforeend', template('00:00:00:00', EVENT_DISC));\n\n    const valueRef = document.querySelector(`${selector} #value`);\n\n    const updateValue = (value) => {\n        valueRef.textContent = value;\n    }\n\n    this.start = () => {\n        if(id) {\n            return;\n        }\n        id = setInterval(() => {\n            const diff = newYearDate - Date.now();\n            const days = getDays(diff);\n            const hours = getHours(diff);\n            const mins = getMins(diff);\n            const seconds = getSeconds(diff);\n            updateValue(`${addZero(days)} days ${addZero(hours)} hours ${addZero(mins)} mins ${addZero(seconds)} seconds`);\n        }, 100);\n    };\n\n    this.stop = () => {\n        clearTimeout(id);\n        id = 0;\n    }\n}\n\n// * Создаём Экземпляр ==================\n/**\n * Create timer how many days:hours:minutes:seconds left to some date\n */\nconst timer = new Timer({selector: '#timer'});\n\n// * Вешаем события на кнопки\nRefs.startBtn\n  .addEventListener('click', () => {\n    timer.start()\n    Refs.stopBtn.classList.remove('is-active')\n    Refs.startBtn.classList.add('is-active')\n  });\nRefs.stopBtn\n  .addEventListener('click', () => {\n    timer.stop()\n    Refs.startBtn.classList.remove('is-active')\n    Refs.stopBtn.classList.add('is-active')\n  });\n\n// * Если необходимо запуск при открытии страницы (run)\n// timer.start();"]}